/* IBM Plex Sans via HTML link in pages */
:root {
  --c-0: #f8f9fa;
  --c-1: #e9ecef;
  --c-2: #dee2e6;
  --c-3: #ced4da;
  --c-4: #adb5bd;
  --c-5: #6c757d;
  --c-6: #495057;
  --c-7: #343a40;
  --c-8: #212529;
}

* { box-sizing: border-box; }
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: var(--c-0);
  color: var(--c-8);
  font-family: "IBM Plex Sans", system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
}

/* Shared nav */
.top-nav {
  position: fixed;
  top: 16px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
  background: rgba(33, 37, 41, 0.55); /* var(--c-8) w/ alpha */
  color: white;
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  border: 1px solid rgba(206, 212, 218, 0.4); /* var(--c-3) */
  border-radius: 14px;
  padding: 8px 14px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.18);
  display: flex;
  gap: 18px;
  align-items: center;
  transition: transform 220ms ease, box-shadow 220ms ease, padding 220ms ease;
}
.top-nav:hover { transform: translateX(-50%) scale(1.04); box-shadow: 0 6px 24px rgba(0,0,0,0.25); }
.top-nav a { color: #fff; text-decoration: none; font-weight: 500; letter-spacing: 0.2px; opacity: 0.95; }
.top-nav a:hover { opacity: 1; text-decoration: underline; text-underline-offset: 3px; }
.top-nav.small { padding: 8px 14px; }
.top-nav.large { padding: 10px 20px; }

main { min-height: 100vh; }

/* Home: Parallax Night Mountain */
.parallax-scene {
  position: relative;
  height: 220vh; /* extra height to allow scroll before cave */
  overflow-x: clip;
  background: linear-gradient(180deg, #0d0f12 0%, #12161a 60%, #0b0d0f 100%);
  color: #e9ecef;
}
.scene-viewport { position: sticky; top: 0; height: 100vh; perspective: 900px; overflow: hidden; }
.layer { position: absolute; inset: -10vh -10vw; transform-style: preserve-3d; }
.layer svg, .layer img { position: absolute; will-change: transform, opacity; }

/* Stars */
.stars::before, .stars::after {
  content: "";
  position: absolute; inset: 0; background: radial-gradient(1px 1px at 10% 20%, #ffffffaa 99%, transparent 100%),
                               radial-gradient(1px 1px at 30% 80%, #ffffff80 99%, transparent 100%),
                               radial-gradient(1px 1px at 70% 30%, #ffffff66 99%, transparent 100%),
                               radial-gradient(1px 1px at 90% 60%, #ffffff99 99%, transparent 100%),
                               radial-gradient(1px 1px at 50% 50%, #ffffff55 99%, transparent 100%);
  opacity: 0.8;
}

/* Moon */
.moon { width: 220px; height: 220px; border-radius: 50%; background: radial-gradient(circle at 40% 40%, #ffffff, #dfe6eb 60%, #adb5bd 100%); box-shadow: 0 0 60px #f8f9fa55; top: 12vh; right: 12vw; }

/* Mountains */
.mountain { fill: url(#mountGrad); opacity: 0.85; }
.mountain.near { opacity: 0.95; }

/* Phantoms - custom square-ish sprites to avoid IP issues */
.phantom { width: 110px; height: 40px; background: #bfc5ca; position: absolute; border-radius: 6px; box-shadow: inset 0 0 10px #8d949a, 0 8px 20px rgba(0,0,0,0.35); }
.phantom::before, .phantom::after { content: ""; position: absolute; top: 8px; width: 16px; height: 16px; background: #12161a; border-radius: 50%; filter: drop-shadow(0 0 6px #0ff2); }
.phantom::before { left: 18px; }
.phantom::after { left: 44px; }

/* Ground fog */
.fog { position: absolute; bottom: -10vh; left: -10vw; right: -10vw; height: 40vh; background: radial-gradient(80% 60% at 50% 100%, #aeb6bd20 0%, transparent 70%); filter: blur(2px); }

/* Floating tech logos */
.floating-logos img { position: absolute; width: 56px; height: 56px; filter: grayscale(100%) contrast(90%); opacity: 0.9; pointer-events: none; will-change: transform; }

/* Transition region to Cave */
.cave-wrap { position: absolute; inset: 0; opacity: 0; transition: opacity 400ms ease; }
.cave-bg { position: absolute; inset: -10vh -10vw; background: radial-gradient(120% 80% at 50% 110%, #1a1f23 0%, #0f1316 60%, #0b0d0f 100%); }
.cave-walls { position: absolute; inset: 0; }
.cave-walls::before, .cave-walls::after { content: ""; position: absolute; width: 60vw; height: 100vh; top: 0; background: linear-gradient(180deg, #2a2f34 0%, #1e2327 60%, #15191c 100%); filter: blur(2px); }
.cave-walls::before { left: -10vw; clip-path: polygon(0 0, 80% 0, 65% 100%, 0 100%); }
.cave-walls::after { right: -10vw; clip-path: polygon(20% 0, 100% 0, 100% 100%, 35% 100%); }

/* Fireplace */
.fireplace { position: absolute; left: 50%; bottom: 10vh; transform: translateX(-50%); width: 160px; height: 160px; border-radius: 50%; background: radial-gradient(closest-side, #ffecd1, #ffb88a 60%, transparent 70%); filter: blur(6px) brightness(1.3); animation: firePulse 1.6s ease-in-out infinite; }
@keyframes firePulse { 0%, 100% { transform: translateX(-50%) scale(1); } 50% { transform: translateX(-50%) scale(1.08); } }

/* Coder silhouette */
.coder { position: absolute; left: 50%; bottom: 12vh; transform: translateX(-50%); width: 280px; height: 180px; }
.coder .desk { position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 320px; height: 14px; background: #272b2f; border-radius: 6px; box-shadow: 0 6px 20px rgba(0,0,0,0.35); }
.coder .body { position: absolute; bottom: 14px; left: 50%; transform: translateX(-50%); width: 120px; height: 120px; background: #383e44; border-radius: 14px; box-shadow: inset 0 0 20px #1d2328; }
.coder .laptop { position: absolute; bottom: 60px; left: 50%; transform: translateX(-50%); width: 140px; height: 10px; background: #2f363b; border-radius: 6px; }
.coder .screen { position: absolute; bottom: 70px; left: 50%; transform: translateX(-50%); width: 140px; height: 88px; background: linear-gradient(180deg, #0f1316 0%, #161b20 100%); border: 2px solid #242a2f; border-bottom: 0; border-radius: 6px 6px 0 0; box-shadow: 0 0 22px #ffc58a55; }
.coder .head { position: absolute; bottom: 108px; left: 50%; transform: translateX(-50%); width: 44px; height: 44px; background: #2c3237; border-radius: 50%; box-shadow: 0 -6px 0 0 #242a2f inset; }

/* Home center avatar */
.center-face { position: absolute; top: 38vh; left: 50%; transform: translate(-50%, -50%) translateZ(40px); width: 160px; height: 160px; border-radius: 50%; overflow: hidden; border: 3px solid rgba(255,255,255,0.7); box-shadow: 0 14px 50px rgba(0,0,0,0.45); }
.center-face img { width: 100%; height: 100%; object-fit: cover; filter: grayscale(100%); }

/* About page */
.page-wrap { max-width: 1200px; margin: 100px auto 120px; padding: 0 24px; }
.section { margin: 80px 0; }
.section h2 { margin: 0 0 18px; color: var(--c-7); font-size: 28px; }
.section p { line-height: 1.7; color: var(--c-6); }

.about-layout { display: grid; grid-template-columns: 1fr 360px 1fr; gap: 24px; align-items: start; }
.full-body { width: 100%; height: 520px; border-radius: 16px; overflow: hidden; border: 1px solid var(--c-2); background: var(--c-1); box-shadow: 0 12px 28px rgba(0,0,0,0.08); position: sticky; top: 110px; }
.full-body img { width: 100%; height: 100%; object-fit: cover; filter: grayscale(100%); }
.info-block { background: white; border: 1px solid var(--c-2); border-radius: 14px; padding: 18px; box-shadow: 0 8px 18px rgba(0,0,0,0.05); }

.exp-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; }
.exp-card { background: white; border: 1px solid var(--c-2); border-radius: 14px; padding: 18px 18px 14px; box-shadow: 0 8px 18px rgba(0,0,0,0.05); }
.exp-card h3 { margin: 0 0 6px; color: var(--c-7); }
.exp-card .meta { color: var(--c-5); font-size: 14px; margin-bottom: 10px; }

/* Projects */
.projects-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 18px; }
.project-card { position: relative; background: linear-gradient(180deg, #ffffff, #f3f5f6); border: 1px solid var(--c-2); border-radius: 16px; padding: 16px; box-shadow: 0 10px 24px rgba(0,0,0,0.06); height: 220px; overflow: hidden; cursor: pointer; transition: transform 180ms ease, box-shadow 180ms ease; transform-style: preserve-3d; }
.project-card:hover { transform: translateY(-4px); box-shadow: 0 16px 36px rgba(0,0,0,0.10); }
.project-card .title { font-weight: 600; color: var(--c-7); margin-bottom: 8px; }
.project-card .desc { color: var(--c-6); font-size: 14px; }
.project-card .shine { position: absolute; inset: -40%; background: radial-gradient(closest-side, rgba(255,255,255,0.6), transparent 70%); transform: translate3d(-50%, -50%, 0); pointer-events: none; opacity: 0; transition: opacity 200ms ease; }
.project-card:hover .shine { opacity: 0.7; }
.project-card.expanded { height: 440px; }
.project-card .expanded-area { opacity: 0; max-height: 0; transition: opacity 200ms ease, max-height 200ms ease; }
.project-card.expanded .expanded-area { opacity: 1; max-height: 360px; }
.project-card .gif { width: 100%; height: 220px; border-radius: 12px; object-fit: cover; border: 1px solid var(--c-2); }
.project-card .links { display: flex; gap: 16px; margin-top: 12px; }
.project-card .links a { color: var(--c-7); text-decoration: underline; text-underline-offset: 3px; }

/* Utilities */
.muted { color: var(--c-5); }
.center { text-align: center; }

/* Responsive */
@media (max-width: 980px) {
  .about-layout { grid-template-columns: 1fr; }
  .full-body { position: relative; top: auto; height: 420px; }
  .exp-grid { grid-template-columns: 1fr; }
  .projects-grid { grid-template-columns: 1fr; }
}